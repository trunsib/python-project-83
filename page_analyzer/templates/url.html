<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>URL</title>
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css"
      rel="stylesheet"
    >
  </head>
  <body class="bg-light">
    <main class="container py-5">

      <div data-test="url">
        <h1>{{ url.name }}</h1>
        <p>Created at: {{ url.created_at }}</p>

        <form method="post" action="{{ url_for('run_check', id=url.id) }}">
          <button type="submit" class="btn btn-primary">Запустить проверку</button>
        </form>
      </div>

      <h2 class="mt-4">Проверки</h2>

      <table class="table table-bordered mt-2" data-test="checks">
        <thead>
          <tr>
            <th>ID</th>
            <th>Дата проверки</th>
            <th>Код ответа</th>
            <th>H1</th>
            <th>Title</th>
            <th>Description</th>
          </tr>
        </thead>
        <tbody>
          {% for check in checks %}
          <tr>
            <td>{{ check.id }}</td>
            <td>{{ check.created_at }}</td>
            <td>{{ check.status_code or '' }}</td>
            <td>{{ check.h1 or '' }}</td>
            <td>{{ check.title or '' }}</td>
            <td>{{ check.description or '' }}</td>
          </tr>
          {% endfor %}
        </tbody>
      </table>

    </main>
  </body>
</html>
